<!DOCTYPE html>
<html>
    <head>
        <title>Nephilim Savage Worlds edition Character Manager</title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="./css/pure-min.css"/>
        <link rel="stylesheet" href="./css/grids-responsive-min.css"/>
        <link rel="stylesheet" href="./css/main.css"/>
        <link rel="stylesheet" href="./css/toasts.css"/>
        <link rel="stylesheet" href="./css/fontello.css"/>
        <link rel="stylesheet" href="./css/animation.css"/>
        <link rel="apple-touch-icon-precomposed" href="app.jpg">
        <link rel="icon" href="app.jpg">
    </head>
    <body>
        <div class="content">
            <div id="waiting" class="pure-g">
                <div class="pure-u-1">
                    <i class="icon-spinner animate-spin"></i>
                </div>
            </div>
            <rg-toasts></rg-toasts>
            <spa-cloud id="mainapp" class="hidden"></spa-cloud>
        </div>

    <my-footer></my-footer>

    <script src="./js/riot+compiler.min.js"></script>
    <script src="./js/rg-toasts.js"></script>
    <script src="./js/toasty-mixin.js"></script>
    <script src="./js/GoogleDrive.js"></script>
    <script src="./js/icon-google-drive.js"></script>
    <script src="./js/Repository.js"></script>
    <script src="./js/Character.js"></script>
    <script src="./js/dexie.min.js"></script>
    <script src="./js/fetch.js"></script>
    <script src="./tag/spa-cloud.tag" type="riot/tag"></script>
    <script src="./tag/cloud-backup.tag" type="riot/tag"></script>
    <script src="./tag/cloud-import.tag" type="riot/tag"></script>

    <script>
        var cloudClient = new GoogleDrive({
            clientId: '374977961173-5novsbmqqspuvqr0s54jjocimluvos64.apps.googleusercontent.com',
            appId: '374977961173',
            apiKey: 'AIzaSyDgilBkA3oUaSyczUAHLmK41IqehCbzpqI'
        })
        cloudClient.setIcon(googleDriveThumbnail)

        var repository = new Repository()

        function handleClientLoad() {
            cloudClient.connect()
                    .then(function () {
                        cloudClient.trigger('connected')
                    })
        }
        riot.mixin('toasty', Toasty)
        riot.route.start(true);
        riot.mount('*');
    </script>

    <script async defer src="https://apis.google.com/js/api.js"
            onload="this.onload = function () {
            };
            handleClientLoad()"
            onreadystatechange="if (this.readyState === 'complete') this.onload()">
    </script>
</body>
</html>
