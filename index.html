<!DOCTYPE html>
<html>
    <head>
        <title>Nephilim Savage Worlds edition Character Manager</title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="./css/pure-min.css"/>
        <link rel="stylesheet" href="./css/grids-responsive-min.css"/>
        <link rel="stylesheet" href="./css/main.css"/>
        <link rel="stylesheet" href="./css/toasts.css"/>
        <link rel="stylesheet" href="./css/fontello.css"/>
    </head>
    <body>
        <div class="content">
            <rg-toasts></rg-toasts>
            <spa-tabs></spa-tabs>
        </div>

    <my-footer></my-footer>

    <script src="./js/fetch.js"></script>
    <script src="./js/riot+compiler.min.js"></script>
    <script src="./js/rg-toasts.js"></script>
    <script src="./js/toasty-mixin.js"></script>

    <script src="./tag/spa-tabs.tag" type="riot/tag"></script>
    <script src="./tag/content-list.tag" type="riot/tag"></script>
    <script src="./tag/atout.tag" type="riot/tag"></script>
    <script src="./tag/content-stat.tag" type="riot/tag"></script>
    <script src="./tag/content-database.tag" type="riot/tag"></script>
    <script src="./tag/dice-option.tag" type="riot/tag"></script>
    <script src="./tag/pentacle.tag" type="riot/tag"></script>
    <script src="./tag/unique-ka.tag" type="riot/tag"></script>
    <script src="./tag/attribut.tag" type="riot/tag"></script>
    <script src="./tag/handicap.tag" type="riot/tag"></script>
    <script src="./tag/competence.tag" type="riot/tag"></script>
    <script src="./tag/token-option.tag" type="riot/tag"></script>
    <script src="./tag/content-detail.tag" type="riot/tag"></script>
    <script src="./tag/dump-database.tag" type="riot/tag"></script>
    <script src="./tag/my-footer.tag" type="riot/tag"></script>
    <script src="./tag/histoire-invisible.tag" type="riot/tag"></script>
    <script src="./tag/metamorphe.tag" type="riot/tag"></script>

    <script src="./js/diceRoller.js"></script>
    <script src="./js/Character.js"></script>
    <script src="./js/CharacterBuilder.js"></script>
    <script src="./js/Repository.js"></script>
    <script src="./js/Model.js"></script>
    <script src="./js/SwTable.js"></script>
    <script src="./js/dexie.min.js"></script>
    <script>
        // container for this SPA
        var SwCharman = {
            repository: new Repository(),
            model: new Model(),
            table: new SwTable('./data/')
        }
        // Here we go
        SwCharman.table.load().then(function () {
            SwCharman.builder = new CharacterBuilder(SwCharman.table.get('atout'))
            riot.mixin('toasty', Toasty)
            riot.route.start(true);
            riot.mount('*');
            riot.route('list')
        })
    </script>
</body>
</html>
